/*
 pdf2htmlEX.js: Core UI functions for pdf2htmlEX
 Copyright 2012,2013 Lu Wang <coolwanglu@gmail.com> and other contributors
 https://github.com/coolwanglu/pdf2htmlEX/blob/master/share/LICENSE
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,f){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,f):$jscomp.polyfillUnisolated(a,b,c,f))};
$jscomp.polyfillUnisolated=function(a,b,c,f){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var g=a[f];if(!(g in c))return;c=c[g]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,f){var g=a.split(".");a=1===g.length;f=g[0];f=!a&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var m=0;m<g.length-1;m++){var n=g[m];if(!(n in f))return;f=f[n]}g=g[g.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?f[g]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,g,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[g]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(g):$jscomp.POLYFILL_PREFIX+g,g=
$jscomp.propertyToPolyfillSymbol[g],$jscomp.defineProperty(f,g,{configurable:!0,writable:!0,value:b})))};
$jscomp.polyfill("Math.hypot",function(a){return a?a:function(a){if(2>arguments.length)return arguments.length?Math.abs(arguments[0]):0;var b,f,g;for(b=g=0;b<arguments.length;b++)g=Math.max(g,Math.abs(arguments[b]));if(1E100<g||1E-100>g){if(!g)return g;for(b=f=0;b<arguments.length;b++){var m=Number(arguments[b])/g;f+=m*m}return Math.sqrt(f)*g}for(b=f=0;b<arguments.length;b++)m=Number(arguments[b]),f+=m*m;return Math.sqrt(f)}},"es6","es3");
var pdf2htmlEX=window.pdf2htmlEX=window.pdf2htmlEX||{},CSS_CLASS_NAMES={page_frame:"pf",page_content_box:"pc",page_data:"pi",background_image:"bi",link:"l",input_radio:"ir",__dummy__:"no comma"},DEFAULT_CONFIG={container_id:"page-container",sidebar_id:"sidebar",outline_id:"outline",loading_indicator_cls:"loading-indicator",preload_pages:3,render_timeout:100,scale_step:.9,key_handler:!0,hashchange_handler:!0,sidebar_toggle_button_id:"sidebarToggle",view_history_handler:!0,maximum_scale:10,minimum_scale:.1,
pinch_to_scale:!0,cache_view_hash_interval:3E3,__dummy__:"no comma"},EPS=1E-6,MD5=function(a){function b(a,b){var c=a&2147483648;var d=b&2147483648;var e=a&1073741824;var f=b&1073741824;a=(a&1073741823)+(b&1073741823);return e&f?a^2147483648^c^d:e|f?a&1073741824?a^3221225472^c^d:a^1073741824^c^d:a^c^d}function c(a,c,d,e,f,g,h){a=b(a,b(b(c&d|~c&e,f),h));return b(a<<g|a>>>32-g,c)}function f(a,c,d,e,f,g,h){a=b(a,b(b(c&e|d&~e,f),h));return b(a<<g|a>>>32-g,c)}function g(a,c,d,e,f,g,h){a=b(a,b(b(c^d^e,
f),h));return b(a<<g|a>>>32-g,c)}function m(a,c,d,e,f,g,h){a=b(a,b(b(d^(c|~e),f),h));return b(a<<g|a>>>32-g,c)}function n(a){var b="",c;for(c=0;3>=c;c++){var d=a>>>8*c&255;d="0"+d.toString(16);b+=d.substr(d.length-2,2)}return b}var h=[];a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&
63|128))}return b}(a);h=function(a){var b=a.length;var c=b+8;for(var d=16*((c-c%64)/64+1),e=Array(d-1),f,g=0;g<b;)c=(g-g%4)/4,f=g%4*8,e[c]|=a.charCodeAt(g)<<f,g++;c=(g-g%4)/4;e[c]|=128<<g%4*8;e[d-2]=b<<3;e[d-1]=b>>>29;return e}(a);var d=1732584193;var e=4023233417;var k=2562383102;var l=271733878;for(a=0;a<h.length;a+=16){var p=d;var q=e;var r=k;var t=l;d=c(d,e,k,l,h[a+0],7,3614090360);l=c(l,d,e,k,h[a+1],12,3905402710);k=c(k,l,d,e,h[a+2],17,606105819);e=c(e,k,l,d,h[a+3],22,3250441966);d=c(d,e,k,l,
h[a+4],7,4118548399);l=c(l,d,e,k,h[a+5],12,1200080426);k=c(k,l,d,e,h[a+6],17,2821735955);e=c(e,k,l,d,h[a+7],22,4249261313);d=c(d,e,k,l,h[a+8],7,1770035416);l=c(l,d,e,k,h[a+9],12,2336552879);k=c(k,l,d,e,h[a+10],17,4294925233);e=c(e,k,l,d,h[a+11],22,2304563134);d=c(d,e,k,l,h[a+12],7,1804603682);l=c(l,d,e,k,h[a+13],12,4254626195);k=c(k,l,d,e,h[a+14],17,2792965006);e=c(e,k,l,d,h[a+15],22,1236535329);d=f(d,e,k,l,h[a+1],5,4129170786);l=f(l,d,e,k,h[a+6],9,3225465664);k=f(k,l,d,e,h[a+11],14,643717713);e=
f(e,k,l,d,h[a+0],20,3921069994);d=f(d,e,k,l,h[a+5],5,3593408605);l=f(l,d,e,k,h[a+10],9,38016083);k=f(k,l,d,e,h[a+15],14,3634488961);e=f(e,k,l,d,h[a+4],20,3889429448);d=f(d,e,k,l,h[a+9],5,568446438);l=f(l,d,e,k,h[a+14],9,3275163606);k=f(k,l,d,e,h[a+3],14,4107603335);e=f(e,k,l,d,h[a+8],20,1163531501);d=f(d,e,k,l,h[a+13],5,2850285829);l=f(l,d,e,k,h[a+2],9,4243563512);k=f(k,l,d,e,h[a+7],14,1735328473);e=f(e,k,l,d,h[a+12],20,2368359562);d=g(d,e,k,l,h[a+5],4,4294588738);l=g(l,d,e,k,h[a+8],11,2272392833);
k=g(k,l,d,e,h[a+11],16,1839030562);e=g(e,k,l,d,h[a+14],23,4259657740);d=g(d,e,k,l,h[a+1],4,2763975236);l=g(l,d,e,k,h[a+4],11,1272893353);k=g(k,l,d,e,h[a+7],16,4139469664);e=g(e,k,l,d,h[a+10],23,3200236656);d=g(d,e,k,l,h[a+13],4,681279174);l=g(l,d,e,k,h[a+0],11,3936430074);k=g(k,l,d,e,h[a+3],16,3572445317);e=g(e,k,l,d,h[a+6],23,76029189);d=g(d,e,k,l,h[a+9],4,3654602809);l=g(l,d,e,k,h[a+12],11,3873151461);k=g(k,l,d,e,h[a+15],16,530742520);e=g(e,k,l,d,h[a+2],23,3299628645);d=m(d,e,k,l,h[a+0],6,4096336452);
l=m(l,d,e,k,h[a+7],10,1126891415);k=m(k,l,d,e,h[a+14],15,2878612391);e=m(e,k,l,d,h[a+5],21,4237533241);d=m(d,e,k,l,h[a+12],6,1700485571);l=m(l,d,e,k,h[a+3],10,2399980690);k=m(k,l,d,e,h[a+10],15,4293915773);e=m(e,k,l,d,h[a+1],21,2240044497);d=m(d,e,k,l,h[a+8],6,1873313359);l=m(l,d,e,k,h[a+15],10,4264355552);k=m(k,l,d,e,h[a+6],15,2734768916);e=m(e,k,l,d,h[a+13],21,1309151649);d=m(d,e,k,l,h[a+4],6,4149444226);l=m(l,d,e,k,h[a+11],10,3174756917);k=m(k,l,d,e,h[a+2],15,718787259);e=m(e,k,l,d,h[a+9],21,3951481745);
d=b(d,p);e=b(e,q);k=b(k,r);l=b(l,t)}return(n(d)+n(e)+n(k)+n(l)).toLowerCase()};function invert(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[3]*a[4])/b,(a[1]*a[4]-a[0]*a[5])/b]}function transform(a,b){return[a[0]*b[0]+a[2]*b[1]+a[4],a[1]*b[0]+a[3]*b[1]+a[5]]}function get_page_number(a){return parseInt(a.getAttribute("data-page-no"),16)}function disable_dragstart(a){for(var b=0,c=a.length;b<c;++b)a[b].addEventListener("dragstart",function(){return!1},!1)}
function clone_and_extend_objs(a){for(var b={},c=0,f=arguments.length;c<f;++c){var g=arguments[c],m;for(m in g)g.hasOwnProperty(m)&&(b[m]=g[m])}return b}
function Page(a){if(a){this.shown=this.loaded=!1;this.page=a;this.num=get_page_number(a);this.original_height=a.clientHeight;this.original_width=a.clientWidth;var b=a.getElementsByClassName(CSS_CLASS_NAMES.page_content_box)[0];b&&(this.content_box=b,this.original_scale=this.cur_scale=this.original_height/b.clientHeight,this.page_data=JSON.parse(a.getElementsByClassName(CSS_CLASS_NAMES.page_data)[0].getAttribute("data-data")),this.ctm=this.page_data.ctm,this.ictm=invert(this.ctm),this.loaded=!0)}}
Page.prototype={hide:function(){this.loaded&&this.shown&&(this.content_box.classList.remove("opened"),this.shown=!1)},show:function(){this.loaded&&!this.shown&&(this.content_box.classList.add("opened"),this.shown=!0)},rescale:function(a){this.cur_scale=0===a?this.original_scale:a;this.loaded&&(a=this.content_box.style,a.msTransform=a.webkitTransform=a.transform="scale("+this.cur_scale.toFixed(3)+")");a=this.page.style;a.height=this.original_height*this.cur_scale+"px";a.width=this.original_width*this.cur_scale+
"px"},view_position:function(){var a=this.page,b=a.parentNode;return[b.scrollLeft-a.offsetLeft-a.clientLeft,b.scrollTop-a.offsetTop-a.clientTop]},height:function(){return this.page.clientHeight},width:function(){return this.page.clientWidth}};function Viewer(a){this.config=clone_and_extend_objs(DEFAULT_CONFIG,0<arguments.length?a:{});this.pages_loading=[];this.init_before_loading_content()}
Viewer.prototype={scale:1,cur_page_idx:0,first_page_idx:0,init_before_loading_content:function(){this.pre_hide_pages()},initialize_radio_button:function(){for(var a=document.getElementsByClassName(CSS_CLASS_NAMES.input_radio),b=0;b<a.length;b++)a[b].addEventListener("click",function(){this.classList.toggle("checked")})},init_after_loading_content:function(){this.sidebar=document.getElementById(this.config.sidebar_id);this.outline=document.getElementById(this.config.outline_id);this.container=document.getElementById(this.config.container_id);
this.sidebar_toggle_btn=document.getElementById(this.config.sidebar_toggle_button_id);this.loading_indicator=document.getElementsByClassName(this.config.loading_indicator_cls)[0];for(var a=!0,b=this.outline.childNodes,c=0,f=b.length;c<f;++c)if("ul"===b[c].nodeName.toLowerCase()){a=!1;break}a||(this.sidebar_toggle_btn.classList.remove("hide"),this.sidebar_toggle_btn.classList.add("show"));this.find_pages();if(0!=this.pages.length){disable_dragstart(document.getElementsByClassName(CSS_CLASS_NAMES.background_image));
this.config.key_handler&&this.register_key_handler();var g=this;this.config.hashchange_handler&&window.addEventListener("hashchange",function(a){g.navigate_and_remove_hash()},!1);this.config.view_history_handler&&window.addEventListener("popstate",function(a){a.state&&g.navigate_to_dest(a.state)},!1);this.config.pinch_to_scale&&(this.container.addEventListener("touchstart",function(a){2===a.touches.length&&(g.scaling=!0,g.pinchStart(a))},!1),this.container.addEventListener("touchmove",function(a){g.scaling&&
g.pinchMove(a)},!1),this.container.addEventListener("touchend",function(a){g.scaling&&(g.pinchEnd(a),g.scaling=!1)},!1));this.container.addEventListener("scroll",function(){g.update_page_idx();g.schedule_render(!0)},!1);[this.container,this.outline].forEach(function(a){a.addEventListener("click",g.link_handler.bind(g),!1)});this.initialize_radio_button();this.render();this.fit_width();this.navigate_and_remove_hash();this.schedule_cache_current_view_hash()}},navigate_and_remove_hash:function(){if(document.location.hash.substring(1))this.navigate_to_dest(document.location.hash.substring(1));
else{var a=window.location.href,b=a.indexOf("#");a=0<b?a.substring(0,b):a;a=localStorage.getItem("pdf2html_view_hash_"+MD5(a));this.navigate_to_dest(a)}window.history.replaceState("",document.title,window.location.pathname)},cache_current_view_hash:function(){var a=pdf2htmlEX.defaultViewer.get_current_view_hash(),b=window.location.href,c=b.indexOf("#");b=0<c?b.substring(0,c):b;localStorage.setItem("pdf2html_view_hash_"+MD5(b),a);pdf2htmlEX.defaultViewer.schedule_cache_current_view_hash()},schedule_cache_current_view_hash:function(){setTimeout(this.cache_current_view_hash,
this.config.cache_view_hash_interval)},find_pages:function(){for(var a=[],b={},c=this.container.childNodes,f=0,g=c.length;f<g;++f){var m=c[f];m.nodeType===Node.ELEMENT_NODE&&m.classList.contains(CSS_CLASS_NAMES.page_frame)&&(m=new Page(m),a.push(m),b[m.num]=a.length-1)}this.pages=a;this.page_map=b},load_page:function(a,b,c){var f=this.pages;if(!(a>=f.length||(f=f[a],f.loaded||this.pages_loading[a]))){f=f.page;var g=f.getAttribute("data-page-url");if(g){this.pages_loading[a]=!0;var m=f.getElementsByClassName(this.config.loading_indicator_cls)[0];
"undefined"===typeof m&&(m=this.loading_indicator.cloneNode(!0),m.classList.add("active"),f.appendChild(m));var n=this,h=new XMLHttpRequest;h.open("GET",g,!0);h.onload=function(){if(200===h.status||0===h.status){var b=document.createElement("div");b.innerHTML=h.responseText;var e=null;b=b.childNodes;for(var f=0,g=b.length;f<g;++f){var m=b[f];if(m.nodeType===Node.ELEMENT_NODE&&m.classList.contains(CSS_CLASS_NAMES.page_frame)){e=m;break}}b=n.pages[a];n.container.replaceChild(e,b.page);b=new Page(e);
n.pages[a]=b;b.hide();b.rescale(n.scale);disable_dragstart(e.getElementsByClassName(CSS_CLASS_NAMES.background_image));n.schedule_render(!1);c&&c(b)}delete n.pages_loading[a]};h.send(null)}void 0===b&&(b=this.config.preload_pages);0<--b&&(n=this,setTimeout(function(){n.load_page(a+1,b)},0))}},pre_hide_pages:function(){var a="@media screen{."+CSS_CLASS_NAMES.page_content_box+"{display:none;}}",b=document.createElement("style");b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));
document.head.appendChild(b)},render:function(){var a=this.container,b=a.scrollTop,c=a.clientHeight;a=b-c;b=b+c+c;c=this.pages;for(var f=0,g=c.length;f<g;++f){var m=c[f],n=m.page,h=n.offsetTop+n.clientTop;n=h+n.clientHeight;h<=b&&n>=a?m.loaded?m.show():this.load_page(f):m.hide()}},update_page_idx:function(){var a=this.pages,b=a.length;if(!(2>b)){var c=this.container,f=c.scrollTop;c=f+c.clientHeight;for(var g=-1,m=b,n=m-g;1<n;){var h=g+Math.floor(n/2);n=a[h].page;n.offsetTop+n.clientTop+n.clientHeight>=
f?m=h:g=h;n=m-g}this.first_page_idx=m;h=g=this.cur_page_idx;for(var d=0;m<b;++m){n=a[m].page;var e=n.offsetTop+n.clientTop;n=n.clientHeight;if(e>c)break;n=(Math.min(c,e+n)-Math.max(f,e))/n;if(m===g&&Math.abs(n-1)<=EPS){h=g;break}n>d&&(d=n,h=m)}this.cur_page_idx=h}},schedule_render:function(a){if(void 0!==this.render_timer){if(!a)return;clearTimeout(this.render_timer)}var b=this;this.render_timer=setTimeout(function(){delete b.render_timer;b.render()},this.config.render_timeout)},register_key_handler:function(){var a=
this;window.addEventListener("DOMMouseScroll",function(b){if(b.ctrlKey){b.preventDefault();var c=a.container,f=c.getBoundingClientRect();a.rescale(Math.pow(a.config.scale_step,b.detail),!0,[b.clientX-f.left-c.clientLeft,b.clientY-f.top-c.clientTop])}},!1);window.addEventListener("keydown",function(b){var c=!1,f=b.ctrlKey||b.metaKey,g=b.altKey;switch(b.keyCode){case 61:case 107:case 187:f&&(a.rescale(1/a.config.scale_step,!0),c=!0);break;case 173:case 109:case 189:f&&(a.rescale(a.config.scale_step,
!0),c=!0);break;case 48:f&&(a.rescale(0,!1),c=!0);break;case 33:g?a.scroll_to(a.cur_page_idx-1):a.container.scrollTop-=a.container.clientHeight;c=!0;break;case 34:g?a.scroll_to(a.cur_page_idx+1):a.container.scrollTop+=a.container.clientHeight;c=!0;break;case 35:a.container.scrollTop=a.container.scrollHeight;c=!0;break;case 36:a.container.scrollTop=0,c=!0}c&&b.preventDefault()},!1)},rescale:function(a,b,c){var f=this.scale;this.scale=a=0===a?1:b?f*a:a;b=this.config.maximum_scale;var g=this.config.minimum_scale;
this.scale=this.scale>b?b:this.scale<g?g:this.scale;c||(c=[0,0]);var m=this.container;c[0]+=m.scrollLeft;c[1]+=m.scrollTop;for(var n=this.pages,h=n.length,d=this.first_page_idx;d<h;++d){var e=n[d].page;if(e.offsetTop+e.clientTop>=c[1])break}e=d-1;0>e&&(e=0);e=n[e].page;var k=e.clientWidth;d=e.clientHeight;var l=e.offsetLeft+e.clientLeft,p=c[0]-l;0>p?p=0:p>k&&(p=k);k=e.offsetTop+e.clientTop;c=c[1]-k;0>c?c=0:c>d&&(c=d);var q=m.scrollLeft,r=m.scrollTop;for(d=0;d<h;++d)n[d].rescale(a);m.scrollLeft=q+
(p/f*a+e.offsetLeft+e.clientLeft-p-l);m.scrollTop=r+(c/f*a+e.offsetTop+e.clientTop-c-k);this.schedule_render(!0);document.getElementById("scaleRatio").textContent=(100*this.scale).toFixed()+"%";document.getElementById("customScaleOption").hidden=!0;this.needToAdjustScaleSelect&&(this.adjust_scale_select(),this.needToAdjustScaleSelect=!1);document.getElementById("zoomOut").disabled=this.scale<=g;document.getElementById("zoomIn").disabled=this.scale>=b},adjust_scale_select:function(){var a=document.getElementById("scaleSelect");
a.selectedIndex=-1;for(var b=document.getElementById("customScaleOption"),c=(100*this.scale).toFixed()+"%",f=Math.round(1E4*this.scale)/100,g=!1,m=0,n=a.options.length;m<n;++m){var h=a.options[m],d=Number(h.value);isNaN(d)||(100*d).toFixed()!==f.toFixed()?h.selected=!1:g=h.selected=!0}g||(b.textContent=c,b.selected=!0,b.hidden=!1)},fit_width:function(a,b){var c=this.cur_page_idx;b=(this.container.clientWidth-(b?.2*this.container.clientWidth:0))/this.pages[c].width();!a&&1<b&&(b=1);this.rescale(b,
!0);this.scroll_to(c)},fit_height:function(a){var b=this.cur_page_idx,c=this.container.clientHeight/this.pages[b].height();!a&&1<c&&(c=1);this.rescale(c,!0);this.scroll_to(b)},get_containing_page:function(a){for(;a;){if(a.nodeType===Node.ELEMENT_NODE&&a.classList.contains(CSS_CLASS_NAMES.page_frame)){a=get_page_number(a);var b=this.page_map;return a in b?this.pages[b[a]]:null}a=a.parentNode}return null},link_handler:function(a){var b=a.target,c=b.getAttribute("data-dest-detail");if(c){if(this.config.view_history_handler)try{var f=
this.get_current_view_hash();window.history.replaceState(f,"","#"+f);window.history.pushState(c,"","#"+c)}catch(g){}this.navigate_to_dest(c,this.get_containing_page(b));a.preventDefault()}},navigate_to_dest:function(a,b){try{var c=JSON.parse(decodeURIComponent(a))}catch(k){if("pf"===a.substr(0,2)){a=parseInt(a.substr(2),16);var f=this.page_map;if(!(a in f))return;var g=f[a];a=this.pages[g];var m=this;c=function(a){var b=a.view_position();b=a.loaded?transform(a.ctm,b):b;e&&(b[1]=a.height()-b[1]);m.scroll_to(g,
b)};a.loaded?c(a):(this.load_page(g,void 0,c),this.scroll_to(g))}return}if(c instanceof Array&&(a=c[0],f=this.page_map,a in f)){g=f[a];a=this.pages[g];f=2;for(var n=c.length;f<n;++f){var h=c[f];if(null!==h&&"number"!==typeof h)return}for(;6>c.length;)c.push(null);f=b||this.pages[this.cur_page_idx];b=f.view_position();b=f.loaded?transform(f.ictm,[b[0],f.height()-b[1]]):b;f=this.scale;var d=[0,0],e=!0;n=!1;h=this.scale;switch(c[1]){case "XYZ":f=c[4];if(null===f||0===f)f=this.scale;d=[null===c[2]?b[0]:
c[2]*f,null===c[3]?b[1]:c[3]*f];n=!0;break;case "Fit":case "FitB":d=[0,0];n=!0;break;case "FitH":case "FitBH":d=[0,null===c[2]?b[1]:c[2]*h];n=!0;break;case "FitV":case "FitBV":d=[null===c[2]?b[0]:c[2]*h,0];n=!0;break;case "FitR":d=[c[2]*h,c[5]*h],e=!1,n=!0}n&&(this.needToAdjustScaleSelect=!0,this.rescale(f,!1),m=this,c=function(a){d=transform(a.ctm,d);e&&(d[1]=a.height()-d[1]);m.scroll_to(g,d)},a.loaded?c(a):(this.load_page(g,void 0,c),this.scroll_to(g)))}},scroll_to:function(a,b){var c=this.pages;
0>a||a>=c.length||(a=c[a].view_position(),void 0===b&&(b=[0,0]),c=this.container,c.scrollLeft+=b[0]-a[0],c.scrollTop+=b[1]-a[1])},get_current_view_hash:function(){var a=[],b=this.pages[this.cur_page_idx];if(b.loaded){a.push(b.num);a.push("XYZ");var c=b.view_position();c=transform(b.ictm,[c[0],b.height()-c[1]]);a.push(c[0]/this.scale);a.push(c[1]/this.scale);a.push(this.scale);return encodeURIComponent(JSON.stringify(a))}},pinchStart:function(a){this.pinch_start_distance=Math.hypot(a.touches[0].pageX-
a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY)},pinchMove:function(a){var b=Math.hypot(a.touches[0].pageX-a.touches[1].pageX,a.touches[0].pageY-a.touches[1].pageY),c=b/this.pinch_start_distance,f=this.config.minimum_scale;this.scale>=this.config.maximum_scale&&1<=c||this.scale<=f&&1>=c||(this.pinch_start_distance=b,this.needToAdjustScaleSelect=!0,this.rescale(c,!0,[(a.touches[0].pageX+a.touches[1].pageX)/2,(a.touches[0].pageY+a.touches[1].pageY)/2+32]))},pinchEnd:function(a){this.pinch_start_distance=
void 0}};pdf2htmlEX.Viewer=Viewer;document.addEventListener("gesturestart",function(a){a.preventDefault()});
